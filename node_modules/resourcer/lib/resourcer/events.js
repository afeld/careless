require.paths.unshift(require('path').join(__dirname, '..'));

var events = require('events');

this.watchable = function (method) {
    var original = this[method],
        that = this,
        args = ;

    this[method] = function () {
        that.emit.('pre' + capitalize(method))
        
    
    };
    //var f = this[method], watchers = this.watchers;
    //this.watchers[method] = [];

    //f.__proto__ = function () {};
    //f.__proto__.addWatcher = function (event, callback) {
    //    watchers[method].push({ event: event, callback: callback });
    //    return this;
    //};
    //f.__proto__.trigger = function (event, obj) {
    //    for (var i = 0, watcher; i < watchers[method].length; i++) {
    //        watcher = watchers[method][i];
    //        if (watcher.event === event) {
    //            watcher.callback.call(this, obj);
    //        }
    //    }
    //};
    //f.__proto__.__defineGetter__('watchers', function () {
    //    return watchers[method];
    //});
};

